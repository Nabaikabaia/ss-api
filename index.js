const _0x1b405c=_0x331d;(function(_0x4fae95,_0x1d000b){const _0x1f58fc=_0x331d,_0x1a78bc=_0x4fae95();while(!![]){try{const _0x176251=-parseInt(_0x1f58fc(0x258))/0x1+parseInt(_0x1f58fc(0x234))/0x2*(parseInt(_0x1f58fc(0x1f9))/0x3)+parseInt(_0x1f58fc(0x245))/0x4+-parseInt(_0x1f58fc(0x21e))/0x5*(parseInt(_0x1f58fc(0x241))/0x6)+parseInt(_0x1f58fc(0x220))/0x7*(parseInt(_0x1f58fc(0x226))/0x8)+-parseInt(_0x1f58fc(0x250))/0x9+-parseInt(_0x1f58fc(0x21f))/0xa;if(_0x176251===_0x1d000b)break;else _0x1a78bc['push'](_0x1a78bc['shift']());}catch(_0x5e4a03){_0x1a78bc['push'](_0x1a78bc['shift']());}}}(_0x300a,0x725a2));const express=require(_0x1b405c(0x1fd)),{chromium}=require('playwright-chromium'),fs=require('fs'),path=require(_0x1b405c(0x209)),app=express(),PORT=process[_0x1b405c(0x23f)]['PORT']||0x84b;app[_0x1b405c(0x253)](express[_0x1b405c(0x240)]()),app[_0x1b405c(0x253)](express[_0x1b405c(0x212)](_0x1b405c(0x23c))),app[_0x1b405c(0x257)](_0x1b405c(0x230),0x2);const tempDir=path[_0x1b405c(0x21d)](__dirname,_0x1b405c(0x249));if(!fs[_0x1b405c(0x1fe)](tempDir))fs[_0x1b405c(0x1f6)](tempDir,{'recursive':!![]});function getDomain(_0x25d401){const _0x2a408e=_0x1b405c,_0x5fc6bd={'XjWhu':_0x2a408e(0x1fa)},_0x150f2d=_0x25d401[_0x2a408e(0x251)][_0x5fc6bd[_0x2a408e(0x227)]]||_0x25d401[_0x2a408e(0x20c)]||_0x2a408e(0x22a),_0x1c89ac=_0x25d401[_0x2a408e(0x251)]['host'];return _0x150f2d+_0x2a408e(0x23b)+_0x1c89ac;}function _0x331d(_0xb21db3,_0x2065bf){_0xb21db3=_0xb21db3-0x1f4;const _0x300a90=_0x300a();let _0x331d22=_0x300a90[_0xb21db3];return _0x331d22;}const deviceConfigs={'phone':{'width':0x177,'height':0x29b},'tablet':{'width':0x300,'height':0x400},'laptop':{'width':0x556,'height':0x300},'desktop':{'width':0x780,'height':0x438},'full':null},validateInput=(_0xce75ba,_0xabc1e1)=>{const _0x44b500=_0x1b405c,_0xa01e07={'KZbAs':_0x44b500(0x239)};if(!_0xce75ba)return _0xa01e07[_0x44b500(0x1f7)];try{new URL(_0xce75ba);}catch{return _0x44b500(0x22c);}if(_0xabc1e1&&!deviceConfigs[_0xabc1e1])return'Invalid\x20device.\x20Must\x20be\x20one\x20of:\x20'+Object[_0x44b500(0x24a)](deviceConfigs)[_0x44b500(0x21d)](',\x20');return null;};function _0x300a(){const _0x28ab30=['exxOf','now','1267047dPwdcn','headers','eTlxm','use','GIzeI','--disable-setuid-sandbox','goto','set','701967IuwckQ','sort','launch','mkdirSync','KZbAs','full','2427501fgnTSS','x-forwarded-proto','Screenshot\x20failed','screenshot-','express','existsSync','rJkFE','ðŸš€\x20Nabees\x20SS\x20API\x20running\x20on\x20port\x20','online','get','/temp/','Screen\x20recording\x20failed','oJApG','XyCvJ','NÃ£bÄ“Ä“s','TLTpf','path','/temp','/api/screenrecord','protocol','desktop','screenshot','unlinkSync','message','statSync','static','lxoDE','.webm','listen','AgEKB','PTUtb','networkidle','Jyaia','ROIwm','endsWith','disabled','join','20975acWnYi','2802490RajjMX','413XRUkIV','min','.png','log','--no-sandbox','waitForTimeout','76808HEilkQ','XjWhu','DDCaN','mtime','http','close','Invalid\x20URL\x20format','XYDqA','getTime','status','json\x20spaces','bdttn','newContext','newPage','2drDRLc','CHwmw','wfVLG','/health','/api/screenshot','URL\x20parameter\x20is\x20required','forEach','://','public','ATHQZ','Video\x20file\x20not\x20found','env','json','156LILoHG','QbqSi','query','JOXvx','1299316jPZGgg','rLKKz','RxaAV','oVuAP','temp','keys','smSio','toISOString','setViewportSize'];_0x300a=function(){return _0x28ab30;};return _0x300a();}function cleanupTempFiles(){const _0x72d6b6=_0x1b405c,_0x462289={'TLTpf':function(_0x368b5b,_0x1c449d){return _0x368b5b>_0x1c449d;},'DDCaN':function(_0x2033ec,_0x483af5){return _0x2033ec-_0x483af5;},'wfVLG':function(_0x54e9c8,_0x29566f){return _0x54e9c8*_0x29566f;}},_0x39a749=Date[_0x72d6b6(0x24f)](),_0x35c6b0=_0x462289[_0x72d6b6(0x236)](0x1e,0x3c)*0x3e8;fs['readdirSync'](tempDir)[_0x72d6b6(0x23a)](_0x10e58e=>{const _0x3fdee2=_0x72d6b6,_0x174da1=path[_0x3fdee2(0x21d)](tempDir,_0x10e58e);if(_0x462289[_0x3fdee2(0x208)](_0x462289[_0x3fdee2(0x228)](_0x39a749,fs['statSync'](_0x174da1)[_0x3fdee2(0x229)][_0x3fdee2(0x22e)]()),_0x35c6b0))fs[_0x3fdee2(0x20f)](_0x174da1);});}setInterval(cleanupTempFiles,0x1e*0x3c*0x3e8),app[_0x1b405c(0x202)](_0x1b405c(0x238),async(_0x1c7a68,_0xd857cb)=>{const _0x41d1bf=_0x1b405c,_0x49a223={'RxaAV':'Invalid\x20URL\x20format','PTUtb':_0x41d1bf(0x20d),'exxOf':function(_0x3bbf94,_0x29090d){return _0x3bbf94!==_0x29090d;},'GIzeI':_0x41d1bf(0x246),'oJApG':_0x41d1bf(0x224),'CHwmw':_0x41d1bf(0x255),'rJkFE':_0x41d1bf(0x1f8),'Jyaia':_0x41d1bf(0x218),'PNtDq':function(_0x3aaa66,_0x32157d){return _0x3aaa66===_0x32157d;},'oVuAP':_0x41d1bf(0x21c),'JOXvx':function(_0x3f173b,_0x3795ab){return _0x3f173b(_0x3795ab);},'eTlxm':_0x41d1bf(0x1fb)},{url:_0x56a219,device:device=_0x49a223[_0x41d1bf(0x217)]}=_0x1c7a68[_0x41d1bf(0x243)],_0x415a5c=validateInput(_0x56a219,device);if(_0x415a5c)return _0xd857cb[_0x41d1bf(0x22f)](0x190)[_0x41d1bf(0x240)]({'error':_0x415a5c});let _0x531f06;try{if(_0x49a223[_0x41d1bf(0x24e)](_0x41d1bf(0x246),_0x49a223[_0x41d1bf(0x254)]))return _0x49a223[_0x41d1bf(0x247)];else{_0x531f06=await chromium[_0x41d1bf(0x1f5)]({'headless':!![],'args':[_0x49a223[_0x41d1bf(0x205)],_0x49a223[_0x41d1bf(0x235)]]});const _0xc2e192=await _0x531f06[_0x41d1bf(0x233)]();if(device!==_0x49a223[_0x41d1bf(0x1ff)])await _0xc2e192[_0x41d1bf(0x24d)](deviceConfigs[device]);await _0xc2e192[_0x41d1bf(0x256)](_0x56a219,{'waitUntil':_0x49a223[_0x41d1bf(0x219)],'timeout':0x7530}),await _0xc2e192[_0x41d1bf(0x225)](0x7d0);const _0x177450=_0x41d1bf(0x1fc)+device+'-'+Date[_0x41d1bf(0x24f)]()+_0x41d1bf(0x222),_0x3c3887=path[_0x41d1bf(0x21d)](tempDir,_0x177450);await _0xc2e192[_0x41d1bf(0x20e)]({'path':_0x3c3887,'type':'png','fullPage':_0x49a223['PNtDq'](device,_0x49a223[_0x41d1bf(0x1ff)]),'animations':_0x49a223[_0x41d1bf(0x248)]});const _0x2b233e=_0x49a223[_0x41d1bf(0x244)](getDomain,_0x1c7a68);_0xd857cb[_0x41d1bf(0x240)]({'success':!![],'url':_0x2b233e+'/temp/'+_0x177450,'creator':'NÃ£bÄ“Ä“s'});}}catch(_0x5639ca){_0xd857cb[_0x41d1bf(0x22f)](0x1f4)[_0x41d1bf(0x240)]({'error':_0x49a223[_0x41d1bf(0x252)],'message':_0x5639ca[_0x41d1bf(0x210)]});}finally{if(_0x531f06)await _0x531f06[_0x41d1bf(0x22b)]();}}),app[_0x1b405c(0x202)](_0x1b405c(0x20b),async(_0x231b06,_0x120ccc)=>{const _0x4edb6f=_0x1b405c,_0x5b8ada={'kHPuC':_0x4edb6f(0x20d),'XyCvJ':function(_0x31255a,_0x557c1e,_0x42c2e){return _0x31255a(_0x557c1e,_0x42c2e);},'smSio':function(_0x55bf91,_0x567338){return _0x55bf91(_0x567338);},'bdttn':_0x4edb6f(0x224),'AgEKB':function(_0x2a05fd,_0x2908e6){return _0x2a05fd!==_0x2908e6;},'ROIwm':function(_0x2a547f,_0x4b2bff){return _0x2a547f!==_0x4b2bff;},'MYMVZ':'full','QbqSi':'networkidle','lxoDE':_0x4edb6f(0x23e),'XYDqA':_0x4edb6f(0x204)},{url:_0x1f002d,device:device=_0x5b8ada['kHPuC'],duration:duration='10'}=_0x231b06[_0x4edb6f(0x243)],_0x5a5cf7=_0x5b8ada[_0x4edb6f(0x206)](validateInput,_0x1f002d,device);if(_0x5a5cf7)return _0x120ccc[_0x4edb6f(0x22f)](0x190)[_0x4edb6f(0x240)]({'error':_0x5a5cf7});let _0x548a9a,_0x3b7609;const _0x3e0d5a=Math[_0x4edb6f(0x221)](_0x5b8ada[_0x4edb6f(0x24b)](parseInt,duration)||0xa,0x1e);try{_0x548a9a=await chromium['launch']({'headless':!![],'args':[_0x5b8ada[_0x4edb6f(0x231)],_0x4edb6f(0x255)]}),_0x3b7609=await _0x548a9a[_0x4edb6f(0x232)]({'viewport':_0x5b8ada[_0x4edb6f(0x216)](device,_0x4edb6f(0x1f8))?deviceConfigs[device]:{'width':0x780,'height':0x438},'recordVideo':{'dir':tempDir,'size':_0x5b8ada[_0x4edb6f(0x21a)](device,_0x5b8ada['MYMVZ'])?deviceConfigs[device]:{'width':0x780,'height':0x438}}});const _0x4288c6=await _0x3b7609[_0x4edb6f(0x233)]();await _0x4288c6[_0x4edb6f(0x256)](_0x1f002d,{'waitUntil':_0x5b8ada[_0x4edb6f(0x242)],'timeout':0x7530}),await _0x4288c6[_0x4edb6f(0x225)](_0x3e0d5a*0x3e8),await _0x3b7609[_0x4edb6f(0x22b)]();const _0x4c9b4e=fs['readdirSync'](tempDir)['filter'](_0x11944a=>_0x11944a[_0x4edb6f(0x21b)](_0x4edb6f(0x214)))[_0x4edb6f(0x1f4)]((_0x43cd92,_0x39ebd7)=>fs['statSync'](path['join'](tempDir,_0x39ebd7))[_0x4edb6f(0x229)]-fs[_0x4edb6f(0x211)](path[_0x4edb6f(0x21d)](tempDir,_0x43cd92))['mtime'])[0x0];if(!_0x4c9b4e)throw new Error(_0x5b8ada[_0x4edb6f(0x213)]);const _0x2aaca0=_0x5b8ada['smSio'](getDomain,_0x231b06);_0x120ccc[_0x4edb6f(0x240)]({'success':!![],'url':_0x2aaca0+_0x4edb6f(0x203)+_0x4c9b4e,'creator':_0x4edb6f(0x207)});}catch(_0x4d9706){if(_0x3b7609)await _0x3b7609[_0x4edb6f(0x22b)]();_0x120ccc[_0x4edb6f(0x22f)](0x1f4)[_0x4edb6f(0x240)]({'error':_0x5b8ada[_0x4edb6f(0x22d)],'message':_0x4d9706[_0x4edb6f(0x210)]});}finally{if(_0x548a9a)await _0x548a9a[_0x4edb6f(0x22b)]();}}),app[_0x1b405c(0x253)](_0x1b405c(0x20a),express[_0x1b405c(0x212)](tempDir)),app[_0x1b405c(0x202)](_0x1b405c(0x237),(_0x5dede5,_0xf63b24)=>{const _0x12eb35=_0x1b405c,_0x538285={'ATHQZ':_0x12eb35(0x201)};_0xf63b24['json']({'status':0xc8,'success':!![],'info':_0x538285[_0x12eb35(0x23d)],'creator':_0x12eb35(0x207),'timestamp':new Date()[_0x12eb35(0x24c)]()});}),app[_0x1b405c(0x215)](PORT,()=>console[_0x1b405c(0x223)](_0x1b405c(0x200)+PORT));
